cmake_minimum_required(VERSION 3.13)

#CMAKE_EXPORT_COMPILE_COMMANDS
project(quranBot)

#oh yeah
set(CMAKE_EXPORT_COMPILE_COMMANDS ON)

#c++14 
set(CMAKE_CXX_STANDARD 14)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

#add files in src and headers
file(GLOB_RECURSE botSources "./src/*.cpp" "./headers/*.hpp")
list(FILTER botSources INCLUDE REGEX "^[^\.].+\.cpp$")
add_executable(quranBot ${botSources})

#add sleepy discord library
add_dependencies(quranBot sleepy-discord)
target_link_libraries(quranBot sleepy-discord)
target_include_directories(quranBot PRIVATE ./ext/sleepy-discord/include)
add_subdirectory(./ext/sleepy-discord/)

#add json11
add_dependencies(quranBot json11)
target_include_directories(quranBot PRIVATE ./ext/json11/)
target_link_libraries(quranBot  json11)
add_subdirectory(./ext/json11/)
